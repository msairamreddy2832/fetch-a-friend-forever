try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="1795eeae-e1e1-4969-8cfd-c5b9fcfb714b",e._sentryDebugIdIdentifier="sentry-dbid-1795eeae-e1e1-4969-8cfd-c5b9fcfb714b")}catch(e){}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[442],{76524:function(e,t,r){Promise.resolve().then(r.bind(r,73397)),Promise.resolve().then(r.bind(r,84990)),Promise.resolve().then(r.bind(r,79743)),Promise.resolve().then(r.t.bind(r,72972,23)),Promise.resolve().then(r.bind(r,7593)),Promise.resolve().then(r.bind(r,94212)),Promise.resolve().then(r.bind(r,86868)),Promise.resolve().then(r.bind(r,21800)),Promise.resolve().then(r.bind(r,15735)),Promise.resolve().then(r.bind(r,47526)),Promise.resolve().then(r.bind(r,88197)),Promise.resolve().then(r.bind(r,88884)),Promise.resolve().then(r.bind(r,23516)),Promise.resolve().then(r.bind(r,57067)),Promise.resolve().then(r.bind(r,865)),Promise.resolve().then(r.bind(r,96644)),Promise.resolve().then(r.bind(r,21894)),Promise.resolve().then(r.bind(r,1647)),Promise.resolve().then(r.bind(r,45975)),Promise.resolve().then(r.bind(r,88881)),Promise.resolve().then(r.bind(r,57444)),Promise.resolve().then(r.bind(r,5277)),Promise.resolve().then(r.bind(r,80434)),Promise.resolve().then(r.bind(r,21189)),Promise.resolve().then(r.bind(r,71465)),Promise.resolve().then(r.bind(r,21458)),Promise.resolve().then(r.bind(r,92991))},73397:function(e,t,r){"use strict";r.d(t,{CCPA:function(){return s}});var n=r(57437),i=r(27648),o=r(19730);let s=()=>(0,o.dl)(o.P7.CCPA)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("li",{children:(0,n.jsx)(i.default,{className:"flex items-center gap-1 hover:underline max-sm:justify-center",href:"/do-not-sell-or-share-my-personal-information",children:"Do Not Sell or Share My Personal Information"})}),(0,n.jsx)("li",{children:(0,n.jsx)(i.default,{className:"flex items-center gap-1 hover:underline max-sm:justify-center",href:"https://trust.delve.co/lovable",children:"Trust Center"})})]}):null},53566:function(e,t,r){"use strict";var n=r(57437),i=r(27648),o=r(67385),s=r(57346),a=r(41135),l=r(94508);let d=[{label:"Download black logo as .svg",href:"/img/logo/logoblack.svg",icon:"arrow_downward"},{label:"Download white logo as .svg",href:"/img/logo/logowhite.svg",icon:"arrow_downward"},{label:"Download brand kit as .zip",href:"/img/logo/lovable-brand.zip",icon:"folder"}];t.Z=e=>{let{className:t}=e;return(0,n.jsxs)(o.ContextMenu,{children:[(0,n.jsx)(o.ContextMenuTrigger,{className:(0,l.cn)("flex flex-col gap-1.5",t),children:(0,n.jsxs)(i.default,{href:"/",className:"transition-opacity hover:opacity-75",children:[(0,n.jsx)(a.jo,{className:"flex h-[22px] dark:hidden"}),(0,n.jsx)(a.dE,{className:"hidden h-[22px] dark:flex"})]})}),(0,n.jsxs)(o.ContextMenuContent,{className:"w-60",children:[d.slice(0,2).map(e=>(0,n.jsx)(o.ContextMenuItem,{asChild:!0,children:(0,n.jsxs)("a",{href:e.href,download:!0,className:(0,l.cn)("flex items-center"),style:{textDecoration:"none"},children:[(0,n.jsx)(s.Z,{name:e.icon,className:"mr-3"}),e.label]})},e.label)),(0,n.jsx)(o.ContextMenuSeparator,{}),(0,n.jsx)(o.ContextMenuItem,{asChild:!0,children:(0,n.jsxs)("a",{href:d[2].href,download:!0,className:(0,l.cn)("flex items-center"),style:{textDecoration:"none"},children:[(0,n.jsx)(s.Z,{name:d[2].icon,className:"mr-3"}),d[2].label]},d[2].label)})]})]})}},52558:function(e,t,r){"use strict";r.d(t,{Eu:function(){return c},Ho:function(){return f},eA:function(){return m}});var n=r(57437),i=r(99376),o=r(2265),s=r(66454),a=r(78099),l=r(21288);let d=(0,o.createContext)(void 0),u=null,c=()=>{let e=(0,o.useContext)(d);if(!e)throw Error("useAuthContext must be used within an AuthProvider");return e},f=e=>{let{user:t,children:r}=e,[c,f]=(0,o.useState)(t?"authenticated":"idle"),[m,h]=(0,o.useState)(t),[g,p]=(0,o.useState)(void 0),v=(0,i.useRouter)();return(0,o.useEffect)(()=>{t&&t.idToken&&s.g.setServerIdToken(t.idToken)},[t]),(0,o.useEffect)(()=>((async function(){if(!t){f("idle"),p(void 0),u&&(clearInterval(u),u=null);return}f("loading");try{let{auth:e}=await (0,a.j2)(t.customToken,!0);e.onAuthStateChanged(e=>{e||(f("idle"),h(null),p(void 0))}),f("authenticated"),h(t),p(void 0),u||(u=setInterval(async()=>{let r=e.currentUser;if(!r){await (0,a.j2)(t.customToken,!0);return}try{await r.getIdToken(!0)}catch(t){var n;l.logging.error("AuthProvider: Failed to refresh Firebase token",{error:t,userId:null==e?void 0:null===(n=e.currentUser)||void 0===n?void 0:n.uid})}v.replace("?should-refresh-credentials=1"),v.refresh()},18e5))}catch(e){f("error"),p(e instanceof Error?e:Error(String(e))),l.logging.error("AuthProvider: Failed to initialize Firebase",{error:e,userId:null==t?void 0:t.uid})}})().catch(e=>{l.logging.error("AuthProvider: Failed to initialize Firebase",{error:e,userId:null==t?void 0:t.uid})}),()=>{!t&&u&&(clearInterval(u),u=null)}),[t,v]),(0,n.jsx)(d.Provider,{value:{authState:c,authUser:m,authError:g,isAuthenticated:"authenticated"===c},children:r})},m=()=>{let{authUser:e}=c();return null==e?void 0:e.email}},82176:function(e,t,r){"use strict";r.d(t,{I:function(){return m},LY:function(){return h},t_:function(){return v}});var n=r(57437),i=r(22048),o=r(99376),s=r(46214),a=r(23664),l=r(2265),d=r(21288),u=r(52558),c=r(25566);let f=(0,l.createContext)({featureFlags:{},distinctID:""}),m=e=>{let t=(0,l.useContext)(f);return!!t.featureFlags&&e in t.featureFlags&&!0===t.featureFlags[e]},h=e=>{let t=(0,l.useContext)(f);if(t.featureFlags&&e in t.featureFlags)return t.featureFlags[e]},g="phc_xdBVCyOkYw40Pqd7xp5Er88lGq2IGFd4kZHRiKvvkjr",p=g&&!0;function v(e){let{children:t,bootstrapData:r}=e,{authUser:d}=(0,u.Eu)(),m=(0,u.eA)(),h=(0,l.useMemo)(()=>null==d?void 0:d.uid,[null==d?void 0:d.uid]),v=(0,l.useMemo)(()=>null==d?void 0:d.displayName,[null==d?void 0:d.displayName]),x=(0,l.useMemo)(()=>({featureFlags:(null==r?void 0:r.featureFlags)||{},distinctID:(null==r?void 0:r.distinctID)||""}),[r]);return(0,l.useEffect)(()=>{h&&i.av({id:h})},[h]),(0,l.useEffect)(()=>{p&&h&&(s.ZP.identify(h,{email:m,name:v}),s.ZP.capture("github_branch",{branch:c.env.BRANCH||null}))},[h,m,v]),(0,l.useEffect)(()=>{p&&s.ZP.init(g,{api_host:"https://lovable.dev/ingest",ui_host:"https://us.posthog.com",bootstrap:r,session_recording:{maskAllInputs:!1,maskInputOptions:{password:!0}},autocapture:{element_allowlist:["button"]},verbose:!1})},[r]),!function(){let e=(0,o.usePathname)();(0,l.useEffect)(()=>{s.ZP.capture("$pageview")},[e])}(),(0,n.jsx)(f.Provider,{value:x,children:(0,n.jsx)(a.zf,{client:s.ZP,children:t})})}g||d.logging.info("Missing NEXT_PUBLIC_POSTHOG_KEY in env; set to 'skip' to disable")},84990:function(e,t,r){"use strict";r.d(t,{ImportFigmaPopover:function(){return f}});var n=r(57437),i=r(27648),o=r(46214),s=r(2265),a=r(41135),l=r(62869),d=r(57346),u=r(57054),c=r(6512);let f=e=>{let{children:t}=e,[r,f]=(0,s.useState)(!1),m=()=>{o.ZP.capture("figma_plugin_link_clicked")};return(0,n.jsxs)(u.J2,{open:r,onOpenChange:e=>{f(e),e&&o.ZP.capture("figma_import_popover_opened")},children:[(0,n.jsx)(u.xo,{children:t}),(0,n.jsx)(u.yk,{align:"start",className:"max-w-48 bg-card p-4",children:(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,n.jsx)(d.Z,{name:"figma_logo_color",size:"default"}),(0,n.jsx)(c.Separator,{className:"w-2 bg-muted-foreground"}),(0,n.jsx)(d.Z,{name:"builder_io_logo",size:"default"}),(0,n.jsx)(c.Separator,{className:"w-2 bg-muted-foreground"}),(0,n.jsx)(a.xx,{className:"size-3.5"})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)("h3",{className:"text-sm font-medium",children:"Import from Figma"}),(0,n.jsxs)("ol",{className:"list-inside list-decimal space-y-2",children:[(0,n.jsxs)("li",{className:"text-xs",children:["Use the"," ",(0,n.jsxs)(i.default,{href:"https://www.figma.com/community/plugin/747985167520967365",onClick:m,target:"_blank",rel:"noopener noreferrer",className:"underline",children:["Builder.io Figma plugin",(0,n.jsx)(d.Z,{name:"arrow_outward",className:"ml-1 inline-block",size:"xsmall"})]})]}),(0,n.jsx)("li",{className:"text-xs",children:"Select a frame using auto layout"}),(0,n.jsx)("li",{className:"text-xs",children:"Use 'Export to Code', then Lovable"})]}),(0,n.jsx)(l.z,{variant:"default",size:"sm",className:"mt-2",asChild:!0,children:(0,n.jsx)(i.default,{href:"https://www.figma.com/community/plugin/747985167520967365",onClick:m,target:"_blank",rel:"noopener noreferrer",children:"Get the plugin"})})]})]})})]})}},79743:function(e,t,r){"use strict";r.d(t,{NotActivatedNav:function(){return h}});var n=r(57437),i=r(99376),o=r(46214),s=r(2265),a=r(28667),l=r(53566),d=r(52558),u=r(78099),c=r(21288),f=r(94508),m=r(62869);function h(e){let{className:t,children:r,...h}=e,g=(0,i.useRouter)(),{authUser:p}=(0,d.Eu)(),[v,x,b]=(0,a.QJ)(u.I8),y=(0,s.useCallback)(async()=>{try{await fetch("/api/logout"),o.ZP.reset(!0),g.replace("/?should-refresh-credentials=1"),g.refresh(),v()}catch(e){c.logging.error("logout failed when not activated",{error:e})}},[v,g]);return(0,n.jsx)("nav",{children:(0,n.jsxs)("div",{className:(0,f.cn)("flex h-20 w-full items-center px-10",t),...h,children:[(0,n.jsx)(l.Z,{className:"flex md:flex"}),(0,n.jsx)("div",{className:"mx-2"}),(0,n.jsx)("div",{className:"flex-grow"}),(0,n.jsx)("div",{className:(0,f.cn)("flex flex-grow items-center justify-end space-x-4 overflow-x-scroll scrollbar-hide"),children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[r||(0,n.jsx)("div",{className:"flex-grow"}),p&&(0,n.jsx)(m.z,{variant:"ghost",onClick:y,children:"Sign out"})]})})]})})}},62869:function(e,t,r){"use strict";r.d(t,{d:function(){return d},z:function(){return u}});var n=r(57437),i=r(37053),o=r(77712),s=r(2265),a=r(94508),l=r(22287);let d=(0,o.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors duration-100 ease-in-out focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",success:"bg-success-primary text-success-primary-foreground text-sm font-medium hover:opacity-90 [&>*]:text-shadow-sm shadow-black/50",destructive:"bg-destructive-primary text-destructive-primary-foreground shadow-sm hover:bg-destructive-primary/90",warning:"bg-warning-primary text-warning-primary-foreground shadow-sm hover:bg-warning-primary/90",outline:"border border-input bg-muted shadow-sm hover:bg-accent hover:border-accent",muted:"bg-background text-sm font-medium hover:bg-primary/20 border border-border",accent:"bg-accent-primary text-accent-primary-foreground hover:opacity-80 shadow-black/50",affirmative:"bg-affirmative-primary text-affirmative-primary-foreground hover:opacity-80 shadow-black/50",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-muted-hover",ghost:"hover:bg-accent",link:"text-primary underline-offset-4 hover:underline",hotkey:"hover:bg-background text-primary",twilight:"bg-brand-twilight-primary text-affirmative-primary-foreground hover:opacity-80 shadow-black/50"},size:{default:"h-8 rounded-md px-4 py-2",defaultNarrow:"h-8 rounded-md px-[11px] py-2",sm:"h-7 rounded-md px-3 py-2 gap-1.5",lg:"h-11 rounded-md px-8",xl:"h-16 rounded-md px-12 text-lg",icon:"h-10 w-10","icon-sm":"h-7 px-1 rounded-md py-1 aspect-square","icon-xs":"h-6  rounded-md aspect-square","mobile-round":"h-10 w-10 rounded-full"}},defaultVariants:{variant:"default",size:"default"}}),u=s.forwardRef((e,t)=>{let{className:r,variant:o,size:s,asChild:u=!1,children:c,loading:f,disabled:m,...h}=e,g=u?i.g7:"button";return(0,n.jsx)(g,{className:(0,a.cn)(d({variant:o,size:s,className:r})),ref:t,...h,disabled:m||f,children:f?(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)(l.$,{size:"small"}),c]}):c})});u.displayName="Button"},67385:function(e,t,r){"use strict";r.d(t,{ContextMenu:function(){return s},ContextMenuContent:function(){return l},ContextMenuItem:function(){return d},ContextMenuSeparator:function(){return u},ContextMenuTrigger:function(){return a}});var n=r(57437),i=r(6418);r(2265);var o=r(94508);function s(e){let{...t}=e;return(0,n.jsx)(i.fC,{"data-slot":"context-menu",...t})}function a(e){let{...t}=e;return(0,n.jsx)(i.xz,{"data-slot":"context-menu-trigger",...t})}function l(e){let{className:t,...r}=e;return(0,n.jsx)(i.Uv,{children:(0,n.jsx)(i.VY,{"data-slot":"context-menu-content",className:(0,o.cn)("max-h-(--radix-context-menu-content-available-height) origin-(--radix-context-menu-content-transform-origin) z-50 min-w-32 overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})})}function d(e){let{className:t,inset:r,variant:s="default",...a}=e;return(0,n.jsx)(i.ck,{"data-slot":"context-menu-item","data-inset":r,"data-variant":s,className:(0,o.cn)("data-[variant=destructive]:*:[svg]:!text-destructive outline-hidden relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm data-[disabled]:pointer-events-none data-[inset]:pl-8 data-[variant=destructive]:text-destructive data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:focus:bg-destructive/10 data-[variant=destructive]:focus:text-destructive dark:data-[variant=destructive]:focus:bg-destructive/20 [&_svg:not([class*='size-'])]:size-4 [&_svg:not([class*='text-'])]:text-muted-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0",t),...a})}function u(e){let{className:t,...r}=e;return(0,n.jsx)(i.Z0,{"data-slot":"context-menu-separator",className:(0,o.cn)("-mx-1 my-1 h-px bg-border",t),...r})}},41135:function(e,t,r){"use strict";r.d(t,{Cl:function(){return T},dE:function(){return S},jo:function(){return R},xR:function(){return C},xx:function(){return A}});var n=r(57437),i=r(7593),o=r(94212),s=r(86868),a=r(21800),l=r(15735),d=r(47526),u=r(88197),c=r(88884),f=r(23516),m=r(57067),h=r(865),g=r(96644),p=r(21894),v=r(1647),x=r(45975),b=r(88881),y=r(57444),w=r(5277),j=r(80434),k=r(21189),_=r(71465),N=r(21458),P=r(92991);let I={Supabase:u.default,Lovable:g.default,LovableWithTextLight:h.default,LovableWithTextDark:m.default,GitHub:x.default,X:N.default,Reddit:p.default,Linkedin:f.default,Discord:o.default,Figma:i.default,Youtube:P.default,Google:s.default,OpenAI:l.default,Anthropic:a.default,ThreeJS:c.default,Resend:d.default,Vite:_.default,ReactLogo:y.default,ShadcnLogo:w.default,TailwindLogo:j.default,TypescriptLogo:k.default,Apple:v.default,Outlook:b.default},E=e=>{let{SVG:t,...r}=e;return(0,n.jsx)(t,{fill:"currentColor",...r})},C=Object.entries(I).reduce((e,t)=>{let[r,i]=t,o=e=>(0,n.jsx)(E,{SVG:i,...e});return o.displayName="".concat(r),e["".concat(r)]=o,e},{}),T=C.Supabase,A=C.Lovable,R=C.LovableWithTextLight,S=C.LovableWithTextDark},57054:function(e,t,r){"use strict";r.d(t,{J2:function(){return a},xo:function(){return l},yk:function(){return d}});var n=r(57437),i=r(27312),o=r(2265),s=r(94508);let a=i.fC,l=i.xz;i.ee;let d=o.forwardRef((e,t)=>{let{className:r,align:o="center",sideOffset:a=4,...l}=e;return(0,n.jsx)(i.h_,{children:(0,n.jsx)(i.VY,{ref:t,align:o,sideOffset:a,className:(0,s.cn)("z-[10000] w-72 rounded-xl border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...l})})});d.displayName=i.VY.displayName},6512:function(e,t,r){"use strict";r.d(t,{Separator:function(){return a}});var n=r(57437),i=r(55156),o=r(2265),s=r(94508);let a=o.forwardRef((e,t)=>{let{className:r,orientation:o="horizontal",decorative:a=!0,...l}=e;return(0,n.jsx)(i.f,{ref:t,decorative:a,orientation:o,className:(0,s.cn)("shrink-0 bg-border","horizontal"===o?"h-[1px] w-full":"h-full w-[1px]",r),...l})});a.displayName=i.f.displayName},19730:function(e,t,r){"use strict";r.d(t,{P7:function(){return d},dl:function(){return l}});var n,i,o,s=r(23664),a=r(82176);let l=e=>{let t=(0,s.dl)(e),r=(0,a.I)(e);return null!=t?t:r};(i||(i={})).LaunchpadExamplePrompts="launchpad-example-prompts",(n=o||(o={})).AgentDefault="agent-default",n.AgentModeToggle="agent-mode-toggle",n.BetaTesters="beta_testers",n.BranchesGoApi="branches-go-api",n.SwitchBranchGoApi="switch-branch-go-api",n.CodeEditorWrite="code_editor_write",n.CustomDomainsBuy="custom_domains_buy",n.FeedbackFormFirstPrompt="feedback_form_first_prompt",n.FileUploadGoApi="enable-go-file-upload-download",n.FreeCollaborators="free-collaborators",n.GetStartedForFree="get-started-for-free",n.GithubContribution="github-contribution",n.InAppTeaching="in-app-teaching",n.Internal="internal",n.Lovable2Dialog="lovable_2_dialog",n.ModelSelector="model-selector",n.NavBarUpdate="nav-bar-update",n.ProjectAnalytics="project-analytics",n.Referrals="referrals",n.ReferralCopyConfetti="referral-copy-confetti",n.SecurityReview="security-review",n.SsoInvites="sso-invites",n.Templates="templates",n.VisualEditsRedesign="visual-edits-redesign",n.VoiceMode="voice-mode",n.SupabaseOnCreation="supabase-on-creation",n.PersonalProjects="draft-projects",n.VisualEditsV2="visual-edits-v2",n.PromptEnhancer="prompt-enhancer",n.ReportErrorGoApi="report-error-go-api",n.HandleErrorsGoApi="handle-errors-go-api",n.CCPA="ccpa",n.GoApiProjectDelete="go-api-project-delete";let d={...i,...o}},85472:function(e,t,r){"use strict";r.d(t,{H:function(){return n}});class n extends Error{constructor(e,t,r,n,i){super(t),this.type=e,this.details=r,this.status=n,this.traceId=i}}},35034:function(e,t,r){"use strict";r.d(t,{O:function(){return n}});class n extends Error{constructor(e,t,r,n,i){super(e),this.status=t,this.statusText=r,this.response=n,this.traceId=i}}},66454:function(e,t,r){"use strict";r.d(t,{g:function(){return o}});var n=r(27277);class i{setServerIdToken(e){this.serverIdToken=e,this.initialized=!0}isInitialized(){return this.initialized}async getValidToken(){if(!this.serverIdToken)return null;if(this.refreshPromise)return this.refreshPromise;try{this.refreshPromise=(0,n.B)({serverIdToken:this.serverIdToken,refreshTokenUrl:"/api/refresh-token"});let e=await this.refreshPromise;return this.refreshPromise=null,e}catch(e){return this.refreshPromise=null,null}}constructor(){this.serverIdToken=null,this.refreshPromise=null,this.initialized=!1}}let o=new i},54257:function(e,t,r){"use strict";r.d(t,{q:function(){return n}});let n="production"===(r(25566).env.NEXT_PUBLIC_NODE_ENV||"production")?{apiKey:"AIzaSyBQNjlw9Vp4tP4VVeANzyPJnqbG2wLbYPw",authDomain:"auth.lovable.dev",projectId:"gpt-engineer-390607",storageBucket:"gpt-engineer-390607.appspot.com",messagingSenderId:"288002387414",appId:"1:288002387414:web:231da37c38c486ca814877",measurementId:"G-EFZ8TB5QLN",clientEmail:"firebase-adminsdk-thfj5@gpt-engineer-390607.iam.gserviceaccount.com"}:{apiKey:"AIzaSyC8MAnZTLUBttWHlEIMl0u8gGI0R5oGnXU",authDomain:"gpt-engineer-dev.firebaseapp.com",projectId:"gpt-engineer-dev",storageBucket:"gpt-engineer-dev.appspot.com",messagingSenderId:"435422046193",appId:"1:435422046193:web:36e2c4049799e14110c650",clientEmail:"firebase-adminsdk-tg5bc@gpt-engineer-dev.iam.gserviceaccount.com"}},78099:function(e,t,r){"use strict";r.d(t,{I8:function(){return c},Fs:function(){return f},db:function(){return u},j2:function(){return h}});var n=r(44752),i=r(46886),o=r(21288),s=r(738),a=r(17292),l=r(5978),d=r(54257);let{db:u,auth:c,database:f}=(()=>{let e=(0,s.ZF)(d.q),t=(0,l.LV)(e,{experimentalForceLongPolling:!0}),r=(0,n.v0)(e),i=(0,a.N8)(e);return{app:e,db:t,auth:r,database:i}})(),m=!1,h=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!m&&t&&e){m=!0;let t=await (0,i.Q9)({serverCustomToken:e,refreshTokenUrl:"/api/refresh-token"});if(!t)return m=!1,o.logging.error("No custom token found in initialize()"),{db:u,auth:c};try{await (0,n._p)(c,t)}catch(e){o.logging.error("Unable to sign-in with custom-token in firebase initialization: ".concat(e)),m=!1}}return{db:u,auth:c,database:f}}},21288:function(e,t,r){"use strict";r.d(t,{G:function(){return f},i:function(){return i},logging:function(){return g}});var n,i,o=r(49360),s=r(59625),a=r(85472),l=r(35034),d=r(25566);(n=i||(i={})).LOG="LOG",n.TRACE="TRACE",n.DEBUG="DEBUG",n.INFO="INFO",n.WARN="WARN",n.ERROR="ERROR";class u{static generateSessionId(){return(0,o.Z)()}setSession(e){this._session={session_id:u.generateSessionId(),previous_session:this._session.session_id,project_id:e}}setUser(e){this._user=e}get session(){return this._session}get user(){return this._user}sessionForLogging(){let{session_id:e,...t}=this._session;return{session_id:e,...Object.fromEntries(Object.entries(t).filter(e=>{let[t,r]=e;return void 0!==r}).map(e=>{let[t,r]=e;return["session_attrs_".concat(t),r]}))}}userForLogging(){return Object.fromEntries(Object.entries(this._user||{}).filter(e=>{let[t,r]=e;return void 0!==r}).map(e=>{let[t,r]=e;return["user_".concat(t),r]}))}getForLogging(){return Object.fromEntries(Object.entries({...this.sessionForLogging(),...this.userForLogging()}).filter(e=>{let[t,r]=e;return void 0!==r}))}constructor(){this._session={session_id:u.generateSessionId()}}}let c=new u,f=(0,s.Ue)(e=>({metadata:c,setMetadata:t=>e({metadata:t})})),m=async(e,t)=>{var r;let n=t[0],i=null!==(r=t[1])&&void 0!==r?r:{},o=(1e9*Math.floor(Date.now()/1e3)).toString(),s=Object.entries({msg:n,...i,...c.getForLogging(),level:e}).map(e=>{let[t,r]=e;return"".concat(t,"=").concat(JSON.stringify(r,function e(t,r){return r instanceof l.O?{error_class:"StreamedFetchError",message:r.message,status:r.status,statusText:r.statusText,response:e("response",r.response),stack:r.stack}:r instanceof a.H?{error_class:"ApiError",type:r.type,message:r.message,details:r.details,status:r.status,stack:r.stack}:r instanceof Error?{error_class:r.constructor.name,message:r.message,stack:r.stack}:r}))}).join(" "),u={streams:[{stream:{service_name:"gptengineer-app",name:"gptengineer-app",version:d.env.NEXT_PUBLIC_VERSION||"1.0.0",environment:"production",commit_sha:"$COMMIT_REF",level:e},values:[[o,s]]}]},f="https://us-central1-gpt-engineer-390607.cloudfunctions.net/pushLogsToGrafana";if(f)try{await fetch(f,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)})}catch(e){}},h=(e,t)=>{m(e,t)},g={info:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];h("INFO",t)},debug:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];h("DEBUG",t)},trace:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];h("TRACE",t)},warn:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];h("WARN",t)},error:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];h("ERROR",t)},log:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];h("LOG",t)}}},27277:function(e,t,r){"use strict";r.d(t,{B:function(){return a}});var n=r(40864),i=r(71856);class o{get(e){return this.cacheMap[e]?this.cacheMap[e]:e}set(e,t){this.cacheMap={[e]:t}}constructor(){this.cacheMap={}}}let s=new o;async function a(e){var t;let{serverIdToken:r,refreshTokenUrl:o,checkRevoked:a}=e;if(!r)return null;let l=s.get(r),d=(0,n.t)(l),c=null!==(t=null==d?void 0:d.exp)&&void 0!==t?t:0,f=Date.now()/1e3;if(!a&&f+300<c)return l;let m=await u(o);if(!(null==m?void 0:m.idToken))throw new i.AuthError(i.AuthErrorCode.INTERNAL_ERROR,"Refresh token endpoint returned invalid response. This URL should point to endpoint exposed by the middleware and configured using refreshTokenPath option");return s.set(r,m.idToken),m.idToken}async function l(e,t,r){var n;let o=await d(e);return new i.AuthError(i.AuthErrorCode.INTERNAL_ERROR,"next-firebase-auth-edge: Internal request to ".concat(null!==(n=null==r?void 0:r.method)&&void 0!==n?n:"GET"," ").concat(t.toString()," has failed: ").concat(o))}function d(e){let t=e.headers.get("content-type");return t&&-1!==t.indexOf("application/json")?e.json():e.text()}async function u(e,t){let r=await fetch(e,{...t,headers:{...null==t?void 0:t.headers,Accept:"application/json","Content-Type":"application/json"}});if(!r.ok)throw await l(r,e,t);return d(r)}}},function(e){e.O(0,[4358,7481,1413,5878,2481,6693,2972,4240,6348,6732,441,2078,3347,6008,2536,8667,1358,2287,2660,991,2971,8412,1744],function(){return e(e.s=76524)}),_N_E=e.O()}]);